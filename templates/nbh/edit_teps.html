{% extends 'templates/index.html' %}
{% load static %}
{% load SelfDefinedFilter %}
{% block title %}快感体验能力量表teps{% endblock %}
{% block css %}
    <link href="{% static '/css/scales_style.css' %}" rel="stylesheet" >
{% endblock %}
{% block content %}
    <div class="right_col" role="main">
        <div class="container">
            <div class="row show-grid">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <ul class="breadcrumb" style="background-color: white;font-weight:bold">
                         <li ><a href="#">量表评估</a></li>
                         <li><a href="#" >自评量表</a></li>
                         <li class="active"><a href="#" >快感体验能力量表（teps）</a></li>
                         <div style="float: right;margin-bottom: 0px;">
                            <a id ="return_url" href="/patients/get_patient_detail?&patient_id={{ patient_id }}&page=1"
                               class="btn btn-warning btn-xs"><i class="fa fa-arrow-left"></i><strong>&nbsp;返&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;回</strong></a>
                        </div>

                    </ul>
                </div>
            </div>
        </div>
        <div class="dashboard_graph x_panel" style="margin-top: 0px;height: 80%;">
            <div id="wrapper">
                <div id = "left-side" style="height: 100%;" class="col-md-2">
                  <ul class="scales_progress">
                    {% for scale_name in scale_name_list %}
                        {% if scale_name|get_item:'scale__scale_name' == '快感体验能力量表' %}
                            <li class="step doing  ">
                                <p>{{ scale_name|get_item:'scale__scale_name' }}</p>
                            </li>
                        {% elif scale_name|get_item:'state' == 0 %}
                            <li class="step nodone notclick">
                                <p>{{ scale_name|get_item:'scale__scale_name' }}</p>
                            </li>
                        {% else %}
                            <li class="step done notclick">
                                <p>{{ scale_name|get_item:'scale__scale_name' }}</p>
                            </li>
                        {% endif %}
                        {% endfor %}
                        <li class="finish nodone notclick">
                          <p>完成</p>
                        </li>
                  </ul>
                </div>  
				         
                <div id="right-side" class="col-md-10">
                  <div id="first" class="active">
                           <div class="container">
                            <div class="row" style="margin-left:5px;margin-top: 5px;padding-bottom: 5px;">
                                <h4><strong><center>快感体验能力量表</center></strong></h4>
                                <strong><i class="fa fa-hand-o-right"></i>&nbsp;<i class="fa fa-hand-o-right"></i>&nbsp;<i class="fa fa-hand-o-right"></i>&nbsp;请仔细阅读每个项目并考虑哪个情况与自己最符合。在遇到自己没有经历过的项目时，请先考虑和自己经历过的与其最相似的情境并作出选择。不必考虑你所选择的答案的一致性。1:完全不符合 &nbsp;2:不符合&nbsp;3:基本不符合&nbsp;4:基本符合&nbsp;5:符合&nbsp;6:完全符合<br/></strong>
                            </div>
                            <div class="row">
                                <div class="col-md-12 column">
			                        <table   class="table " style="width:100%;">
				                        <thead>
					                    <tr>
						                    <th >
                                                <center> 问题</center>
						                    </th>
                                            <th  >
                                                <center> 1</center>
						                    </th>
                                            <th  >
                                                <center> 2</center>
						                    </th>
                                            <th  >
                                                <center> 3</center>
						                    </th>
                                            <th  >
                                                <center> 4</center>
						                    </th>
                                             <th  >
                                                <center> 5</center>
						                    </th>
                                             <th  >
                                                <center> 6</center>
						                    </th>
					                    </tr>
				                        </thead>
				                        <tbody align="left">
                                             <tr>
						                        <td style="width: 40%;">1.当我得知我最喜欢演员的新片上映时，我非常渴望立刻看到。</td>
						                         <td style="width: 10%;"><input type="radio" name="question1_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td style="width: 10%;"><input type="radio" name="question1_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td style="width: 10%;"><input type="radio" name="question1_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td style="width: 10%;"><input type="radio" name="question1_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td style="width: 10%;"><input type="radio" name="question1_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td style="width: 10%;"><input type="radio" name="question1_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>2.当我外出散步时，我很享受深呼吸新鲜空气的感觉</td>
						                         <td><input type="radio" name="question2_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question2_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question2_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question2_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question2_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question2_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>3.新割过草坪的气息让我感到享受</td>
						                         <td><input type="radio" name="question3_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question3_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question3_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question3_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question3_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question3_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>4.在我的生活中，我渴求很多东西</td>
						                         <td><input type="radio" name="question4_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question4_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question4_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question4_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question4_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question4_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>5.我很喜欢长辈抚摸我的头发</td>
						                         <td><input type="radio" name="question5_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question5_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question5_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question5_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question5_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question5_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>6.追求许多愉快事情本身对我来说也是一种快乐</td>
						                         <td><input type="radio" name="question6_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question6_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question6_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question6_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question6_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question6_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>7.寒冷早上一杯热咖啡或茶对我是大大的满足</td>
						                         <td><input type="radio" name="question7_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question7_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question7_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question7_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question7_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question7_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>8.当我想到美味的东西，比如巧克力饼干时，我非得给自己来上一块</td>
						                         <td><input type="radio" name="question8_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question8_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question8_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question8_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question8_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question8_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>9.我喜欢欣赏初雪的美景</td>
						                         <td><input type="radio" name="question9_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question9_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question9_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question9_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question9_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question9_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>10.重大节日前的夜晚，我常常兴奋得无法入眠</td>
						                         <td><input type="radio" name="question10_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question10_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question10_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question10_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question10_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question10_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>11.在去游乐园的路上，我就迫不及待的想去乘坐过山车</td>
						                         <td><input type="radio" name="question11_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question11_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question11_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question11_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question11_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question11_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>12.一个大哈欠会让我浑身舒坦</td>
						                         <td><input type="radio" name="question12_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question12_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question12_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question12_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question12_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question12_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>13.我对在外面餐馆吃饭之类的事情并没什么期待的</td>
						                         <td><input type="radio" name="question13_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question13_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question13_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question13_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question13_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question13_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>14.躺在温暖的床上，我喜欢倾听外面的雨声</td>
						                         <td><input type="radio" name="question14_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question14_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question14_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question14_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question14_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question14_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>15.品尝美食的场景进入脑海时，我几乎都能尝到它的美味</td>
						                         <td><input type="radio" name="question15_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question15_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question15_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question15_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question15_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question15_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>16.点完菜后，我就会想象接下来的美味</td>
						                         <td><input type="radio" name="question16_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question16_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question16_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question16_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question16_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question16_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>17.炉子上烹饪食物的声音让我感觉舒坦</td>
						                         <td><input type="radio" name="question17_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question17_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question17_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question17_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question17_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question17_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                            <tr>
						                        <td>18.当一些令人兴奋的事情即将出现在生活中时，我由衷的期待</td>
						                         <td><input type="radio" name="question18_answer" value=1 data-labelauty="完全不符合"/> </td>
                                                 <td><input type="radio" name="question18_answer" value=2 data-labelauty="不符合"/> </td>
                                                 <td><input type="radio" name="question18_answer" value=3 data-labelauty="基本不符合"/> </td>
                                                 <td><input type="radio" name="question18_answer" value=4 data-labelauty="基本符合"/> </td>
                                                 <td><input type="radio" name="question18_answer" value=5 data-labelauty="符合"/> </td>
                                                 <td><input type="radio" name="question18_answer" value=6 data-labelauty="完全符合"/> </td>
					                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                               <div class="row">
                                  <div class="col-md-12 col-sm-12">
                                     <a  style="float: left;font-weight: bold">期待性总分：{{ teps_answer.expectation_score|processNone }}</a>
                                 </div>
                                   <div class="col-md-12 col-sm-12">
                                     <a  style="float: left;font-weight: bold">消费性总分：{{ teps_answer.consume_score|processNone }}</a>
                                 </div>

                            </div>

                               <div class="row" id="bt_group">
                                <div class="col-md-4 col-sm-6 text-center">
                                    <a href="/scales/get_self_last_url?patient_session_id={{ patient_session_id }}&patient_id={{ patient_id }}&scale_id={{ scale_id }}"
                                       id="last_scale">
                                        <button type="button" class="btn btn-warning" id="bt_return">返回上一量表</button>
                                    </a>
                                </div>
                                <div class="col-md-4 col-sm-6" id="next_scale">
                                    {% csrf_token %}
                                    <a href="/scales/get_self_next_url?patient_session_id={{ patient_session_id }}&patient_id={{ patient_id }}&scale_id={{ scale_id }}">
                                        <input type="button" class="btn btn-success text-center" value="进入下一量表">
                                    </a>
                                </div>
                                <div class="col-md-4 col-sm-6" id="next_scale_final">
                                    <a href="/scales/select_scales?patient_session_id={{ patient_session_id }}&patient_id={{ patient_id }}">
                                        <input type="button" class="btn btn-success text-center" value="进入下一量表">
                                    </a>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script>
        function getData() {
            var order = "{{ order }}";
            if (order == 0) {{% comment %}第一个{% endcomment %}
                $("#last_scale").attr("style", "display:none;");
                $("#next_scale_final").attr("style", "display:none;");
                $("#next_scale").attr("style", "display:block;");
            } else if (order == 1) {{% comment %}最后一个{% endcomment %}
                $("#last_scale").attr("style", "display:block;");
                $("#next_scale_final").attr("style", "display:block;");
                $("#next_scale").attr("style", "display:none;");
            } else {{# 啥也不是 #}
                $("#last_scale").attr("style", "display:block;");
                $("#next_scale_final").attr("style", "display:none;");
                $("#next_scale").attr("style", "display:block;");
            }
            if ('{{ teps_answer }}' != 'None') {
                {#数据填充 读数据#}
                if ('{{ teps_answer.question1_answer }}' != 'None') {
                    $("input[name='question1_answer'][value=" + Number({{ teps_answer.question1_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question2_answer }}' != 'None') {
                    $("input[name='question2_answer'][value=" + Number({{ teps_answer.question2_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question3_answer }}' != 'None') {
                    $("input[name='question3_answer'][value=" + Number({{ teps_answer.question3_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question4_answer }}' != 'None') {
                    $("input[name='question4_answer'][value=" + Number({{ teps_answer.question4_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question5_answer }}' != 'None') {
                    $("input[name='question5_answer'][value=" + Number({{ teps_answer.question5_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question6_answer }}' != 'None') {
                    $("input[name='question6_answer'][value=" + Number({{ teps_answer.question6_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question7_answer }}' != 'None') {
                    $("input[name='question7_answer'][value=" + Number({{ teps_answer.question7_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question8_answer }}' != 'None') {
                    $("input[name='question8_answer'][value=" + Number({{ teps_answer.question8_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question9_answer }}' != 'None') {
                    $("input[name='question9_answer'][value=" + Number({{ teps_answer.question9_answer }}) + "]").prop("checked", true);
                }if ('{{ teps_answer.question10_answer }}' != 'None') {
                    $("input[name='question10_answer'][value=" + Number({{ teps_answer.question10_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question11_answer }}' != 'None') {
                    $("input[name='question11_answer'][value=" + Number({{ teps_answer.question11_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question12_answer }}' != 'None') {
                    $("input[name='question12_answer'][value=" + Number({{ teps_answer.question12_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question13_answer }}' != 'None') {
                    $("input[name='question13_answer'][value=" + Number({{ teps_answer.question13_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question14_answer }}' != 'None') {
                    $("input[name='question14_answer'][value=" + Number({{ teps_answer.question14_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question15_answer }}' != 'None') {
                    $("input[name='question15_answer'][value=" + Number({{ teps_answer.question15_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question16_answer }}' != 'None') {
                    $("input[name='question16_answer'][value=" + Number({{ teps_answer.question16_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question17_answer }}' != 'None') {
                    $("input[name='question17_answer'][value=" + Number({{ teps_answer.question17_answer }}) + "]").prop("checked", true);
                }
                if ('{{ teps_answer.question18_answer }}' != 'None') {
                    $("input[name='question18_answer'][value=" + Number({{ teps_answer.question18_answer }}) + "]").prop("checked", true);
                }
            }
            {#锁住#}
            $("input[name='question1_answer']").attr("disabled", "disabled");
            $("input[name='question2_answer']").attr("disabled", "disabled");
            $("input[name='question3_answer']").attr("disabled", "disabled");
            $("input[name='question4_answer']").attr("disabled", "disabled");
            $("input[name='question5_answer']").attr("disabled", "disabled");
            $("input[name='question6_answer']").attr("disabled", "disabled");
            $("input[name='question7_answer']").attr("disabled", "disabled");
            $("input[name='question8_answer']").attr("disabled", "disabled");
            $("input[name='question9_answer']").attr("disabled", "disabled");
            $("input[name='question10_answer']").attr("disabled", "disabled");
            $("input[name='question11_answer']").attr("disabled", "disabled");
            $("input[name='question12_answer']").attr("disabled", "disabled");
            $("input[name='question13_answer']").attr("disabled", "disabled");
            $("input[name='question14_answer']").attr("disabled", "disabled");
            $("input[name='question15_answer']").attr("disabled", "disabled");
            $("input[name='question16_answer']").attr("disabled", "disabled");
            $("input[name='question17_answer']").attr("disabled", "disabled");
            $("input[name='question18_answer']").attr("disabled", "disabled");

        }
    </script>

{% endblock %}

{% block js %}
<script type="text/javascript" src="{% static '/js/jquery-radio-beauty.js' %}"></script>

<script>
$(document).ready(function(){
	$("input[type='radio']").labelauty();
});
</script>

{% endblock %}
